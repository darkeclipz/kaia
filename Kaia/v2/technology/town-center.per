(defrule
    (goal g-research yes)
    (current-age >= dark-age)
    (civilian-population >= 26)
    (can-research ri-loom)
    =>
    (research ri-loom)
)

(defrule
    (goal g-research yes)
    (can-research ri-town-watch)
    (current-age >= castle-age)
    =>
    (research ri-town-watch)
)

(defrule
    (goal g-research yes)
    (can-research ri-town-patrol)
    (current-age >= imperial-age)
    =>
    (research ri-town-watch)
)