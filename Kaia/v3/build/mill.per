; queues a mill if conditions are met
(defrule
    (goal g-build yes)
    (building-type-count-total house >= 2)
    (building-type-count-total mill == 0)
    (civilian-population >= 14)
    (up-pending-objects c: mill == 0)
    (or (resource-found food) ; ensure we found berries
    (or (game-time > 90) ; in case none found
        (food-amount > 2000)))
    (can-build mill)
    =>
    (build mill)
)